<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core"
	xmlns:salesforce="http://www.mulesoft.org/schema/mule/salesforce"
	xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/salesforce http://www.mulesoft.org/schema/mule/salesforce/current/mule-salesforce.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd">
	<salesforce:sfdc-config name="Salesforce_Config" doc:name="Salesforce Config" doc:id="0b9507fb-ce4c-4be1-b24d-f934ffe56089" >
		<salesforce:config-with-oauth-connection >
			<salesforce:oauth-authorization-code consumerKey="3MVG9YFqzc_KnL.yszRB1Y6KDYdraBeHN1p9aV8DTV2hVHIp6GvRIqFDA2yN9O8al_wStgQDoGHZNLdMqSWSM" consumerSecret="2B4FFF6A1601679589FC5C988C6D92E38A613BAE5ECA8266698823321E8968CD" />
			<salesforce:oauth-callback-config listenerConfig="sf-operations-papi-httpListenerConfig" callbackPath="/oauth2callback" authorizePath="/authorize" externalCallbackUrl="http://localhost:8082/oauth2callback" />
		</salesforce:config-with-oauth-connection>
	</salesforce:sfdc-config>
	<http:request-config name="HTTP_Request_configuration" doc:name="HTTP Request configuration" doc:id="6ce030b3-4d4d-4906-a6f4-dc5e9ef81b5f" >
		<http:request-connection host="${references.api.salesforce-sapi.host}" port="${references.api.salesforce-sapi.port}" >
			<http:authentication >
				<http:basic-authentication username="qdqsdsd" password="dsfdsqd" />
			</http:authentication>
		</http:request-connection>
	</http:request-config>
	<flow name="get-accountFlow" doc:id="656f3672-4910-4c4c-b214-1c940e6794fd" >
		<!-- [STUDIO:"Listener"]<http:listener doc:name="Listener" doc:id="22ff35b1-a4b2-4b62-8758-e28341cfd712" config-ref="sf-operations-papi-httpListenerConfig" path="/accounts"/> [STUDIO] -->
		<ee:transform doc:name="Filter Variables" doc:id="96bcec18-efc8-4ad4-a1cd-082ffccde6af" >
			<ee:message >
			</ee:message>
			<ee:variables >
				<ee:set-variable variableName="LastModifiedDate" ><![CDATA[%dw 2.0
output application/json
---
attributes.queryParams[0]]]></ee:set-variable>
			</ee:variables>
		</ee:transform>
		<http:request method="GET" doc:name="get salesforce sapi : /accounts" doc:id="5c4a98ff-7083-4927-811d-ff41da779032" path="/api/accounts" config-ref="HTTP_Request_configuration" sendCorrelationId="ALWAYS" correlationId="#[correlationId]" responseTimeout="1000000000">
			<http:query-params ><![CDATA[#[output application/java
---
{
	"LastModifiedDate" : attributes.queryParams[0]
}]]]></http:query-params>
		</http:request>
	</flow>
</mule>
